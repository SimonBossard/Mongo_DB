
```{r}
.libPaths("D:/R/Library")
library(mongolite)
library(glue)
```

```{r}
url1="mongodb+srv://etudiant:ur2@clusterm1.0rm7t.mongodb.net/food"
coll<-mongo("doctolib",url=url1,options = ssl_options(allow_invalid_hostname=TRUE, weak_cert_validation=TRUE))
```

Vous devrez pour cette première visualisation générer une carte 
des centres de vaccination situés à moins de 50km de Rennes

```{r}
print(coll$find(query = '{"name": {"$regex": "^A", "$options":"i"}, "borough":"Manhattan"}',fields = '{"name": true}')[1,])
```

Rennes = {"type": "Point","coordinates": [ -1.6777,48.117266]}
db.dump_Jan2022.find(
{"location" : {$near : {$geometry : Rennes,$maxDistance:50000}}})



db.dump_Jan2022.find({$or: [{ "visit_motives": {$size: 0}},
                       {"visit_motives": {$exists: false}}]})
					   